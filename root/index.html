<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Minimal Dark Shop</title>
  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; }
    body { background: #111; color: #fff; font-family: Arial, sans-serif; overflow-x: hidden; }
    header { position: fixed; top: 0; width: 100%; display: flex; justify-content: space-between; align-items: center; padding: 20px 40px; background: rgba(0, 0, 0, 0.6); z-index: 1000; }
    .main-nav { display: flex; list-style: none; }
    .nav-item { position: relative; margin-right: 30px; }
    .nav-item a { color: #ccc; text-decoration: none; font-size: 14px; padding: 5px 10px; cursor: pointer; }
    .nav-item a:hover { color: #fff; }
    .submenu { display: none; position: absolute; top: 100%; left: 0; background: black; padding: 15px 20px; list-style: none; min-width: 180px; box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2); z-index: 100; }
    .submenu li { font-size: 13px; color: #444; padding: 5px 0; }
    .submenu li strong { display: block; font-size: 13px; color: white; margin-bottom: 10px; }
    .dropdown:hover .submenu { display: block; }
    .bg { position: absolute; top: 0; left: 0; width: 100vw; height: 100vh; background: url('background.jpg') no-repeat center center/cover; filter: grayscale(100%) brightness(0.4); z-index: -1; }
    .footer-box { position: absolute; bottom: 30px; right: 30px; background: rgba(0, 0, 0, 0.7); padding: 15px 20px; font-size: 12px; border: 1px solid #444; }
    .footer-box button { margin-top: 10px; background: #fff; color: #000; border: none; padding: 5px 10px; cursor: pointer; font-size: 12px; }
    .icon-bar { display: flex; align-items: center; gap: 20px; }
    .icon { width: 20px; height: 20px; cursor: pointer; stroke: white; transition: stroke 0.2s; background: none; border: none; }
    .icon:hover { stroke: #aaa; }
    .lang { display: flex; align-items: center; gap: 5px; font-size: 12px; color: white; }
    .lang img { width: 16px; height: 12px; }
    .cart { display: flex; align-items: center; gap: 4px; font-size: 13px; }
    #search-box { display: none; position: fixed; top: 100px; left: 50%; transform: translateX(-50%); z-index: 999; }
    .search-container { position: relative; width: 600px; border: 1px solid #000; padding: 20px; background: white; display: flex; align-items: center; }
    .search-container input { flex: 1; border: none; outline: none; font-size: 16px; padding: 6px 0; background: none; }
    .search-container label { position: absolute; top: 10px; left: 20px; font-size: 12px; color: #888; pointer-events: none; }
    .search-icon { width: 18px; height: 18px; stroke: #000; }
    #search-close { background: none; border: none; font-size: 18px; color: #000; margin-left: 15px; cursor: pointer; }
    .search-icon-button { background: none; border: none; cursor: pointer; padding: 0; margin-left: 10px; display: flex; align-items: center; }
  </style>
</head>
<body>
  <div class="bg"></div>

  <header>
    <div>Minimal Dark Shop</div>
    <nav>
      <ul class="main-nav">
        <li class="nav-item"><a href="new.html">NEW</a></li>
        <li class="nav-item dropdown"><a href="#">TOP</a>
          <ul class="submenu">
            <li><strong>TOP</strong></li>
            <li class="nav-item"><a href="SHIRT.html">SHIRT</a></li>
            <li class="nav-item"><a href="KNITWEAR.html">KNITWEAR</a></li>
          </ul>
        </li>
        <li class="nav-item dropdown"><a href="#">BOTTOM</a>
          <ul class="submenu">
            <li><strong>BOTTOM</strong></li>
            <li class="nav-item"><a href="PANTS.html">PANTS</a></li>
            <li class="nav-item"><a href="SKIRTS.html">SKIRTS</a></li>
          </ul>
        </li>
        <li class="nav-item dropdown"><a href="#">JACKET</a>
          <ul class="submenu">
            <li><strong>JACKET</strong></li>
            <li class="nav-item"><a href="추후입력예정.html">추후입력예정</a></li>
            <li class="nav-item"><a href="추후입력예정.html">추후입력예정</a></li>
          </ul>
        </li>
        <li class="nav-item dropdown"><a href="#">SHOES</a>
          <ul class="submenu">
            <li><strong>SHOES</strong></li>
            <li class="nav-item"><a href="추후입력예정.html">추후입력예정</a></li>
            <li class="nav-item"><a href="추후입력예정.html">추후입력예정</a></li>
          </ul>
        </li>
      </ul>
    </nav>

    <div class="icon-bar">
      <div class="lang">
        <img src="https://flagcdn.com/w40/kr.png" alt="KR" />
        <span>KR</span>
      </div>

      <button id="search-toggle" class="icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round">
          <circle cx="11" cy="11" r="8"/>
          <line x1="21" y1="21" x2="16.65" y2="16.65"/>
        </svg>
      </button>

      <a href="#" id="user-icon">
        <svg class="icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round">
          <circle cx="12" cy="8" r="4"/>
          <path d="M16 20c0-2-4-3-4-3s-4 1-4 3"/>
        </svg>
      </a>

      <a href="wishlist.html">
        <svg class="icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round">
          <path d="M20.8 4.6c-1.4-1.4-3.7-1.4-5.1 0L12 8.3 8.3 4.6c-1.4-1.4-3.7-1.4-5.1 0 s-1.4 3.7 0 5.1l3.7 3.7 5.1 5.1 5.1-5.1 3.7-3.7c1.4-1.4 1.4-3.7 0-5.1z"/>
        </svg>
      </a>

      <a href="cart.html">
        <div class="cart">
          <svg class="icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round">
            <path d="M6 6h15l-1.5 9h-13z"/>
            <circle cx="9" cy="21" r="1"/>
            <circle cx="18" cy="21" r="1"/>
          </svg>
          <span style="color: white;">0</span>
        </div>
      </a>
    </div>
  </header>

  <div id="search-box">
    <div class="search-container">
      <input type="text" id="search-input" required />
      <label for="search-input">Search</label>
      <button id="search-submit" class="search-icon-button">
        <svg class="search-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="black" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round">
          <circle cx="11" cy="11" r="8"/>
          <line x1="21" y1="21" x2="16.65" y2="16.65"/>
        </svg>
      </button>
      <button id="search-close">✕</button>
    </div>
  </div>

  <div class="footer-box">
    <div>PROJECT:<br>추후 내용 입력<br>추후 내용 입력</div>
  </div>

  <script>
    const searchToggle = document.getElementById("search-toggle");
    const searchBox = document.getElementById("search-box");
    const searchClose = document.getElementById("search-close");
    const searchInput = document.getElementById("search-input");
    const searchSubmit = document.getElementById("search-submit");

    searchToggle.onclick = () => {
      searchBox.style.display = "block";
      searchInput.focus();
    };

    searchClose.onclick = () => {
      searchBox.style.display = "none";
    };

    function goSearch() {
      const keyword = searchInput.value.trim();
      if (keyword) {
        const encoded = encodeURIComponent(keyword);
        location.href = `search.html?q=${encoded}`;
      }
    }

    searchInput.addEventListener("keydown", function (e) {
      if (e.key === "Enter") {
        goSearch();
      }
    });

    searchSubmit.onclick = goSearch;

    // ✅ 사람 아이콘 클릭 시 로그인 여부 판단 → 마이페이지 or 로그인 이동
    document.getElementById("user-icon").addEventListener("click", function (e) {
      e.preventDefault();
      const user = localStorage.getItem("user");
      if (user) {
        window.location.href = "mypage.html";
      } else {
        window.location.href = "login.html";
      }
    });
  </script>
</body>
</html>
